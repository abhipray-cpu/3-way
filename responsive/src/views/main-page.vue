<template>
    <div id="container">
        <nav-bar></nav-bar>
        <div id="box">
            <input type="file" ref="file" style="display:none" @change="handleFileChange">
          <h3 v-if="Processing !=0" id="banner">{{ Banner }}</h3>
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" v-if="Processing==0">
              <path opacity="0.2" d="M52 22H38V8L52 22Z" fill="#E0DDD6"/>
              <path d="M53.415 20.585L39.415 6.585C39.2291 6.39933 39.0085 6.2521 38.7657 6.15173C38.5229 6.05135 38.2627 5.99979 38 6H14C12.9391 6 11.9217 6.42143 11.1716 7.17157C10.4214 7.92172 10 8.93913 10 10V54C10 55.0609 10.4214 56.0783 11.1716 56.8284C11.9217 57.5786 12.9391 58 14 58H50C51.0609 58 52.0783 57.5786 52.8284 56.8284C53.5786 56.0783 54 55.0609 54 54V22C54.0002 21.7373 53.9487 21.4771 53.8483 21.2343C53.7479 20.9915 53.6007 20.7709 53.415 20.585ZM40 12.8275L47.1725 20H40V12.8275ZM50 54H14V10H36V22C36 22.5304 36.2107 23.0391 36.5858 23.4142C36.9609 23.7893 37.4696 24 38 24H50V54ZM39.415 34.585C39.6008 34.7708 39.7482 34.9914 39.8488 35.2342C39.9494 35.477 40.0011 35.7372 40.0011 36C40.0011 36.2628 39.9494 36.523 39.8488 36.7658C39.7482 37.0086 39.6008 37.2292 39.415 37.415C39.2292 37.6008 39.0086 37.7482 38.7658 37.8488C38.523 37.9494 38.2628 38.0011 38 38.0011C37.7372 38.0011 37.477 37.9494 37.2342 37.8488C36.9914 37.7482 36.7708 37.6008 36.585 37.415L34 34.8275V46C34 46.5304 33.7893 47.0391 33.4142 47.4142C33.0391 47.7893 32.5304 48 32 48C31.4696 48 30.9609 47.7893 30.5858 47.4142C30.2107 47.0391 30 46.5304 30 46V34.8275L27.415 37.415C27.2292 37.6008 27.0086 37.7482 26.7658 37.8488C26.523 37.9494 26.2628 38.0011 26 38.0011C25.7372 38.0011 25.477 37.9494 25.2342 37.8488C24.9914 37.7482 24.7708 37.6008 24.585 37.415C24.3992 37.2292 24.2518 37.0086 24.1512 36.7658C24.0506 36.523 23.9989 36.2628 23.9989 36C23.9989 35.7372 24.0506 35.477 24.1512 35.2342C24.2518 34.9914 24.3992 34.7708 24.585 34.585L30.585 28.585C30.7707 28.399 30.9913 28.2515 31.2341 28.1509C31.4769 28.0502 31.7372 27.9984 32 27.9984C32.2628 27.9984 32.5231 28.0502 32.7659 28.1509C33.0087 28.2515 33.2293 28.399 33.415 28.585L39.415 34.585Z" fill="#E0DDD6"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" v-if="Processing==1"> 
                <path d="M24.765 32.1525C24.3996 32.0009 23.9974 31.9611 23.6094 32.0381C23.2214 32.115 22.8649 32.3054 22.585 32.585L17.1725 38H12C11.4696 38 10.9609 38.2107 10.5858 38.5858C10.2107 38.9609 10 39.4696 10 40V50C10 50.5304 10.2107 51.0391 10.5858 51.4142C10.9609 51.7893 11.4696 52 12 52H17.1725L22.585 57.415C22.8647 57.695 23.2212 57.8858 23.6094 57.9631C23.9976 58.0404 24.3999 58.0007 24.7656 57.8492C25.1312 57.6977 25.4437 57.4412 25.6634 57.112C25.8832 56.7828 26.0003 56.3958 26 56V34C25.9999 33.6044 25.8825 33.2178 25.6627 32.8889C25.4429 32.5601 25.1305 32.3038 24.765 32.1525ZM22 51.1725L19.415 48.585C19.2291 48.3993 19.0085 48.2521 18.7657 48.1517C18.5229 48.0513 18.2627 47.9998 18 48H14V42H18C18.2627 42.0002 18.5229 41.9487 18.7657 41.8483C19.0085 41.7479 19.2291 41.6007 19.415 41.415L22 38.8275V51.1725ZM38 45C37.9979 46.764 37.5356 48.497 36.6587 50.0276C35.7818 51.5582 34.5207 52.8335 33 53.7275C32.5446 53.9542 32.0199 53.9989 31.5328 53.8525C31.0456 53.706 30.6325 53.3794 30.3777 52.9391C30.1228 52.4988 30.0453 51.978 30.1609 51.4826C30.2765 50.9872 30.5766 50.5545 31 50.2725C31.9169 49.7313 32.6768 48.9603 33.2047 48.0357C33.7326 47.111 34.0103 46.0647 34.0103 45C34.0103 43.9353 33.7326 42.889 33.2047 41.9643C32.6768 41.0397 31.9169 40.2687 31 39.7275C30.5766 39.4455 30.2765 39.0128 30.1609 38.5174C30.0453 38.022 30.1228 37.5012 30.3777 37.0609C30.6325 36.6206 31.0456 36.294 31.5328 36.1475C32.0199 36.0011 32.5446 36.0458 33 36.2725C34.5207 37.1665 35.7818 38.4418 36.6587 39.9724C37.5356 41.503 37.9979 43.236 38 45ZM53.415 20.585L39.415 6.585C39.2291 6.39933 39.0085 6.2521 38.7657 6.15173C38.5229 6.05135 38.2627 5.99979 38 6H14C12.9391 6 11.9217 6.42143 11.1716 7.17157C10.4214 7.92172 10 8.93913 10 10V30C10 30.5304 10.2107 31.0391 10.5858 31.4142C10.9609 31.7893 11.4696 32 12 32C12.5304 32 13.0391 31.7893 13.4142 31.4142C13.7893 31.0391 14 30.5304 14 30V10H36V22C36 22.5304 36.2107 23.0391 36.5858 23.4142C36.9609 23.7893 37.4696 24 38 24H50V54H42C41.4696 54 40.9609 54.2107 40.5858 54.5858C40.2107 54.9609 40 55.4696 40 56C40 56.5304 40.2107 57.0391 40.5858 57.4142C40.9609 57.7893 41.4696 58 42 58H50C51.0609 58 52.0783 57.5786 52.8284 56.8284C53.5786 56.0783 54 55.0609 54 54V22C54.0002 21.7373 53.9487 21.4771 53.8483 21.2343C53.7479 20.9915 53.6007 20.7709 53.415 20.585ZM40 12.8275L47.1725 20H40V12.8275Z" fill="#F4F4F4"/>
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" width="45" height="53" viewBox="0 0 45 53" fill="none" v-if="Processing==2">
                <path d="M44.3603 14.7849L30.3603 0.784891C30.1744 0.599222 29.9538 0.451994 29.711 0.351618C29.4682 0.251242 29.208 0.199684 28.9453 0.199891H4.94531C3.88445 0.199891 2.86703 0.621318 2.11689 1.37146C1.36674 2.12161 0.945313 3.13902 0.945312 4.19989V48.1999C0.945313 49.2608 1.36674 50.2782 2.11689 51.0283C2.86703 51.7785 3.88445 52.1999 4.94531 52.1999H40.9453C42.0062 52.1999 43.0236 51.7785 43.7737 51.0283C44.5239 50.2782 44.9453 49.2608 44.9453 48.1999V16.1999C44.9455 15.9372 44.894 15.677 44.7936 15.4342C44.6932 15.1914 44.546 14.9708 44.3603 14.7849ZM30.9453 7.02739L38.1178 14.1999H30.9453V7.02739ZM40.9453 48.1999H4.94531V4.19989H26.9453V16.1999C26.9453 16.7303 27.156 17.239 27.5311 17.6141C27.9062 17.9892 28.4149 18.1999 28.9453 18.1999H40.9453V48.1999ZM30.3603 32.7849C30.5463 32.9706 30.6938 33.1912 30.7944 33.434C30.8951 33.6768 30.9469 33.9371 30.9469 34.1999C30.9469 34.4627 30.8951 34.723 30.7944 34.9658C30.6938 35.2086 30.5463 35.4291 30.3603 35.6149L24.3603 41.6149C24.1746 41.8008 23.954 41.9484 23.7112 42.049C23.4684 42.1497 23.2081 42.2015 22.9453 42.2015C22.6825 42.2015 22.4222 42.1497 22.1794 42.049C21.9366 41.9484 21.7161 41.8008 21.5303 41.6149L15.5303 35.6149C15.155 35.2396 14.9442 34.7306 14.9442 34.1999C14.9442 33.6692 15.155 33.1602 15.5303 32.7849C15.9056 32.4096 16.4146 32.1988 16.9453 32.1988C17.476 32.1988 17.985 32.4096 18.3603 32.7849L20.9453 35.3724V24.1999C20.9453 23.6695 21.156 23.1607 21.5311 22.7857C21.9062 22.4106 22.4149 22.1999 22.9453 22.1999C23.4757 22.1999 23.9845 22.4106 24.3595 22.7857C24.7346 23.1607 24.9453 23.6695 24.9453 24.1999V35.3724L27.5303 32.7849C27.7161 32.5989 27.9366 32.4514 28.1794 32.3508C28.4222 32.2501 28.6825 32.1983 28.9453 32.1983C29.2081 32.1983 29.4684 32.2501 29.7112 32.3508C29.954 32.4514 30.1746 32.5989 30.3603 32.7849Z" fill="#F4F4F4"/>
              </svg>

       <div id="btn-2">
        <!--dynmically rendering the elements based on the global state-->
        <!--start of the process-->
          <div v-if="Processing==0" @click="Process">
            <h3>Upload the file</h3>
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none" style="  margin-right:4.9vw;">
              <path d="M15.75 10.6875V14.625C15.75 14.9233 15.6315 15.2095 15.4205 15.4204C15.2095 15.6314 14.9234 15.75 14.625 15.75H3.375C3.07663 15.75 2.79048 15.6314 2.5795 15.4204C2.36853 15.2095 2.25 14.9233 2.25 14.625V10.6875C2.25 10.5383 2.30926 10.3952 2.41475 10.2897C2.52024 10.1842 2.66332 10.125 2.8125 10.125C2.96168 10.125 3.10476 10.1842 3.21025 10.2897C3.31574 10.3952 3.375 10.5383 3.375 10.6875V14.625H14.625V10.6875C14.625 10.5383 14.6843 10.3952 14.7898 10.2897C14.8952 10.1842 15.0383 10.125 15.1875 10.125C15.3367 10.125 15.4798 10.1842 15.5852 10.2897C15.6907 10.3952 15.75 10.5383 15.75 10.6875ZM6.1875 6.18745H8.4375V10.6875C8.4375 10.8366 8.49676 10.9797 8.60225 11.0852C8.70774 11.1907 8.85082 11.25 9 11.25C9.14918 11.25 9.29226 11.1907 9.39775 11.0852C9.50324 10.9797 9.5625 10.8366 9.5625 10.6875V6.18745H11.8125C11.9238 6.18754 12.0327 6.1546 12.1252 6.0928C12.2178 6.03099 12.29 5.94311 12.3326 5.84027C12.3752 5.73744 12.3864 5.62427 12.3646 5.51509C12.3429 5.40592 12.2892 5.30565 12.2105 5.22699L9.39797 2.41449C9.34573 2.36219 9.28369 2.3207 9.2154 2.29239C9.14712 2.26408 9.07392 2.24951 9 2.24951C8.92608 2.24951 8.85288 2.26408 8.7846 2.29239C8.71631 2.3207 8.65427 2.36219 8.60203 2.41449L5.78953 5.22699C5.71077 5.30565 5.65713 5.40592 5.63539 5.51509C5.61365 5.62427 5.62479 5.73744 5.6674 5.84027C5.71001 5.94311 5.78218 6.03099 5.87476 6.0928C5.96734 6.1546 6.07618 6.18754 6.1875 6.18745Z" fill="#111111"/>
            </svg>
          </div>
        <!--while processing-->
          <div v-if="Processing==1">
            <h3>Speech Enhancement</h3>
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none" style="  margin-right:3.2vw;">
                <path d="M3.37498 4.5C3.37498 4.35082 3.43425 4.20774 3.53974 4.10225C3.64523 3.99676 3.7883 3.9375 3.93748 3.9375H5.06248V2.8125C5.06248 2.66332 5.12175 2.52024 5.22724 2.41475C5.33273 2.30926 5.4758 2.25 5.62498 2.25C5.77417 2.25 5.91724 2.30926 6.02273 2.41475C6.12822 2.52024 6.18748 2.66332 6.18748 2.8125V3.9375H7.31248C7.46167 3.9375 7.60474 3.99676 7.71023 4.10225C7.81572 4.20774 7.87498 4.35082 7.87498 4.5C7.87498 4.64918 7.81572 4.79226 7.71023 4.89775C7.60474 5.00324 7.46167 5.0625 7.31248 5.0625H6.18748V6.1875C6.18748 6.33668 6.12822 6.47976 6.02273 6.58525C5.91724 6.69074 5.77417 6.75 5.62498 6.75C5.4758 6.75 5.33273 6.69074 5.22724 6.58525C5.12175 6.47976 5.06248 6.33668 5.06248 6.1875V5.0625H3.93748C3.7883 5.0625 3.64523 5.00324 3.53974 4.89775C3.43425 4.79226 3.37498 4.64918 3.37498 4.5ZM12.9375 13.5H12.375V12.9375C12.375 12.7883 12.3157 12.6452 12.2102 12.5398C12.1047 12.4343 11.9617 12.375 11.8125 12.375C11.6633 12.375 11.5202 12.4343 11.4147 12.5398C11.3092 12.6452 11.25 12.7883 11.25 12.9375V13.5H10.6875C10.5383 13.5 10.3952 13.5593 10.2897 13.6648C10.1842 13.7702 10.125 13.9133 10.125 14.0625C10.125 14.2117 10.1842 14.3548 10.2897 14.4602C10.3952 14.5657 10.5383 14.625 10.6875 14.625H11.25V15.1875C11.25 15.3367 11.3092 15.4798 11.4147 15.5852C11.5202 15.6907 11.6633 15.75 11.8125 15.75C11.9617 15.75 12.1047 15.6907 12.2102 15.5852C12.3157 15.4798 12.375 15.3367 12.375 15.1875V14.625H12.9375C13.0867 14.625 13.2297 14.5657 13.3352 14.4602C13.4407 14.3548 13.5 14.2117 13.5 14.0625C13.5 13.9133 13.4407 13.7702 13.3352 13.6648C13.2297 13.5593 13.0867 13.5 12.9375 13.5ZM16.875 10.125H15.75V9C15.75 8.85082 15.6907 8.70774 15.5852 8.60225C15.4797 8.49676 15.3367 8.4375 15.1875 8.4375C15.0383 8.4375 14.8952 8.49676 14.7897 8.60225C14.6842 8.70774 14.625 8.85082 14.625 9V10.125H13.5C13.3508 10.125 13.2077 10.1843 13.1022 10.2898C12.9967 10.3952 12.9375 10.5383 12.9375 10.6875C12.9375 10.8367 12.9967 10.9798 13.1022 11.0852C13.2077 11.1907 13.3508 11.25 13.5 11.25H14.625V12.375C14.625 12.5242 14.6842 12.6673 14.7897 12.7727C14.8952 12.8782 15.0383 12.9375 15.1875 12.9375C15.3367 12.9375 15.4797 12.8782 15.5852 12.7727C15.6907 12.6673 15.75 12.5242 15.75 12.375V11.25H16.875C17.0242 11.25 17.1672 11.1907 17.2727 11.0852C17.3782 10.9798 17.4375 10.8367 17.4375 10.6875C17.4375 10.5383 17.3782 10.3952 17.2727 10.2898C17.1672 10.1843 17.0242 10.125 16.875 10.125ZM15.4202 5.625L5.62498 15.4202C5.41403 15.6311 5.12799 15.7495 4.82975 15.7495C4.53151 15.7495 4.24547 15.6311 4.03452 15.4202L2.57905 13.9662C2.47455 13.8617 2.39166 13.7377 2.33511 13.6012C2.27856 13.4647 2.24945 13.3183 2.24945 13.1706C2.24945 13.0228 2.27856 12.8765 2.33511 12.74C2.39166 12.6035 2.47455 12.4795 2.57905 12.375L12.375 2.57977C12.4795 2.47527 12.6035 2.39238 12.74 2.33583C12.8765 2.27928 13.0228 2.25017 13.1706 2.25017C13.3183 2.25017 13.4646 2.27928 13.6011 2.33583C13.7377 2.39238 13.8617 2.47527 13.9662 2.57977L15.4202 4.03383C15.5247 4.1383 15.6076 4.26233 15.6642 4.39884C15.7207 4.53534 15.7498 4.68166 15.7498 4.82941C15.7498 4.97717 15.7207 5.12348 15.6642 5.25999C15.6076 5.3965 15.5247 5.52053 15.4202 5.625ZM11.579 7.875L10.125 6.42023L3.37498 13.1702L4.82905 14.625L11.579 7.875ZM14.625 4.82977L13.1702 3.375L10.9202 5.625L12.375 7.07977L14.625 4.82977Z" fill="#111111"/>
              </svg>
        </div>
        <!--processing completed-->
        <div v-if="Processing==2">
            <h3>Download the file</h3>
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none" style="  margin-right:4vw;">
                <path d="M15.75 10.6875V14.625C15.75 14.9234 15.6315 15.2095 15.4205 15.4205C15.2095 15.6315 14.9234 15.75 14.625 15.75H3.375C3.07663 15.75 2.79048 15.6315 2.5795 15.4205C2.36853 15.2095 2.25 14.9234 2.25 14.625V10.6875C2.25 10.5383 2.30926 10.3952 2.41475 10.2898C2.52024 10.1843 2.66332 10.125 2.8125 10.125C2.96168 10.125 3.10476 10.1843 3.21025 10.2898C3.31574 10.3952 3.375 10.5383 3.375 10.6875V14.625H14.625V10.6875C14.625 10.5383 14.6843 10.3952 14.7898 10.2898C14.8952 10.1843 15.0383 10.125 15.1875 10.125C15.3367 10.125 15.4798 10.1843 15.5852 10.2898C15.6907 10.3952 15.75 10.5383 15.75 10.6875ZM8.60203 11.0855C8.65427 11.1378 8.71631 11.1793 8.7846 11.2076C8.85288 11.2359 8.92608 11.2504 9 11.2504C9.07392 11.2504 9.14712 11.2359 9.2154 11.2076C9.28369 11.1793 9.34573 11.1378 9.39797 11.0855L12.2105 8.27297C12.2627 8.22071 12.3042 8.15866 12.3325 8.09038C12.3608 8.0221 12.3753 7.94891 12.3753 7.875C12.3753 7.80109 12.3608 7.7279 12.3325 7.65962C12.3042 7.59134 12.2627 7.52929 12.2105 7.47703C12.1582 7.42477 12.0962 7.38331 12.0279 7.35503C11.9596 7.32674 11.8864 7.31219 11.8125 7.31219C11.7386 7.31219 11.6654 7.32674 11.5971 7.35503C11.5288 7.38331 11.4668 7.42477 11.4145 7.47703L9.5625 9.32977V2.8125C9.5625 2.66332 9.50324 2.52024 9.39775 2.41475C9.29226 2.30926 9.14918 2.25 9 2.25C8.85082 2.25 8.70774 2.30926 8.60225 2.41475C8.49676 2.52024 8.4375 2.66332 8.4375 2.8125V9.32977L6.58547 7.47703C6.47992 7.37148 6.33677 7.31219 6.1875 7.31219C6.03823 7.31219 5.89508 7.37148 5.78953 7.47703C5.68398 7.58258 5.62469 7.72573 5.62469 7.875C5.62469 8.02427 5.68398 8.16742 5.78953 8.27297L8.60203 11.0855Z" fill="#111111"/>
              </svg>

        </div>

       </div>
       <h4 id="drag">Or drag here</h4>
    
       <div id="instructions">
        <ul>
          <li class="options">Audio and video file only</li>
          <li class="options">1000mb max limit</li>
          <li class="options">Only one free trial</li>
    
        </ul>
       </div>
      </div>
    </div>
</template>

<script>
import NavBar from '../components/nav-bar.vue'
export default {
    components:{NavBar},
    computed:{
        Processing(){
            return this.$store.getters['getProcessing']
        },
        Banner(){
            if(this.$store.getters['getProcessing'] == 1)
            return "File Uploaded!"
            else if(this.$store.getters['getProcessing']==2)
            return "Audio Enhancement Completed!"
        else
        return ""
        }
    },
    methods:{
        Process(){
            //opening the file dialog
            this.$refs.file.click();
            
        },
        handleFileChange(event) {
      const selectedFile = event.target.files[0];
      console.log(selectedFile)
      //after file selction will make all the state changes here
      this.$store.commit('setProcessing',{value:1})
      setTimeout(()=>{
        this.$store.commit('setProcessing',{value:2})
      },3000)
    }
    }
}
</script>

<style scoped>
@import url('https://fonts.googleapis.com/css2?family=DM+Sans:opsz@9..40&family=Gothic+A1&family=Ingrid+Darling&family=Oxygen&display=swap');
#container{
    width:100vw;
    height: 100vh;
    position: absolute;
    top:0;
    left: 0;
    overflow: hidden;
    background-color: #111111;
}
#box{
    width:40vw;
    margin-left:30vw;
    margin-top:15vh;
    height:50vh;
    border-radius: 27.586px;
border: 1.6px dashed var(--seconday, #F4F4F4);
background: var(--primary, #111);
}
#box svg{
    margin-top:6vh;
    margin-left:0
}
#btn-2{
    width:20vw;
    margin-left:10vw;
    height:44px;
    border-radius: 40px;
background: var(--grad-1, linear-gradient(180deg, #BAEF58 0%, #79B509 100%));
cursor: pointer;
margin-top:2vh;
    margin-bottom:0px;
}
#btn-2 h3{
    line-height: 44px;
    text-align: center;
    font-family: Gothic A1;
font-size: 16px;
font-style: normal;
font-weight: 500;
color: var(--primary, #111);
}
#btn-2 svg{
    float: right;
    margin-top:-49px;
}
#drag{
    color: var(--seconday, #F4F4F4);
text-align: center;
font-feature-settings: 'clig' off, 'liga' off;
font-family: DM Sans;
font-size: 14px;
font-style: normal;
font-weight: 400;

}
#instructions{
    margin-top:10vh;
}
#instructions ul{
    width:36vw;
    display: flex;
    flex-direction: row;
    list-style-type:disc;
    margin-left:2vw;
}
.options{
    color: var(--extra, #E0DDD6);
    text-align: center;
    font-feature-settings: 'clig' off, 'liga' off;
    font-family: DM Sans;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 18px; /* 128.571% */
    margin-left:1vw;
    margin-right:1vw;
}
#banner{
    color: var(--extra, #E0DDD6);
text-align: center;
font-feature-settings: 'clig' off, 'liga' off;
font-family: DM Sans;
font-size: 18px;
font-style: normal;
font-weight: 400;
line-height: 18px; /* 100% */
}
</style>